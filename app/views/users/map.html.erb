<div style='width: 800px;'>
  <div id="multi_markers" style='width: 800px; height: 400px;'></div>
</div>

<div style='text-align:center;'>User info</div>

<% if @user %>
  <%= @user.inspect %>
<% end %>
<% if @docs %>
  <% @docs.each do |user| %>
  <ul>
  	<li>
		  <%= user['first_name'] %>  		
  	</li>
  	<li>
		  <%= user['current_location']['coordinates'][0] %>
  	</li>
  	<li>	
		  <%= user['current_location']['coordinates'][1] %>
  	</li>
  </ul>
  <% end %>
<% else %>
  Not signed in or no user object passed in
<% end %>



<!-- <script src="//maps.google.com/maps/api/js?v=3.18&key=AIzaSyAfHHGuFdgEjJK-ruHotITh2nb6rShH6Tw"></script> 
<script src="//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.1.9/src/infobox_packed.js' type='text/javascript'></script> -->


<script>
	var handler = Gmaps.build('Google');
handler.buildMap({ internal: {id: 'multi_markers'}}, function(){
  var markers = handler.addMarkers([
    { lat: 43, lng: 3.5},
    { lat: 45, lng: 4},
    { lat: 47, lng: 3.5},
    { lat: 49, lng: 4},
    { lat: 51, lng: 3.5}
  ]);
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
});
</script>